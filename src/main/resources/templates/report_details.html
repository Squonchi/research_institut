<!DOCTYPE HTML>
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Отчеты</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
</head>
<body>

<header th:insert="blocks/header :: header"></header>

<div class="container mt-5">
    <div class="card">
        <div class="card-header">
            Отчет по научной работе
        </div>
        <div class="card-body">
            <h5 class="card-title" th:text="${report.title}"></h5>
            <p class="card-text">Автор: <strong th:text="${report.author.lastName} + ' ' + ${report.author.firstName} + ' ' + ${report.author.patronymic}"></strong></p>
            <p class="card-text alert alert-info mt-2 mb-2" th:text="${report.full_text}"></p>
        </div>
        <div sec:authorize="hasAuthority('DIRECTOR')" th:if="${report.status == T(com.kursovaya.institut.models.ReportStatus).ON_INSPECTION}" class="m-2">
            <form method="post" >
                <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
                <textarea class="form-control" name="comment" placeholder="Замечания к отчету" th:text="${report.comment}"></textarea><br>
                <button class="btn btn-success" name="status" type="submit" th:value="${T(com.kursovaya.institut.models.ReportStatus).FOR_CORRECTION}">На доработку</button>
                <button class="btn btn-success" name="status" type="submit" th:value="${T(com.kursovaya.institut.models.ReportStatus).IS_READY}">Принять отчет</button>
            </form>
        </div>
    </div>
</div>

<div th:insert="blocks/footer :: footer"></div>
</body>
</html>