<!DOCTYPE HTML>
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Отчеты</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
</head>
<body>

<header th:insert="blocks/header :: header"></header>

<div class="container mt-5">
    <div class="alert alert-info mt-2">
        <h1 th:text="${report.title}"></h1>
        <p th:text="${report.full_text}"></p>
        <p>Автор: <strong th:text="${report.author.username}"></strong></p>
        <div sec:authorize="hasAuthority('DIRECTOR')" th:if="${report.status == T(com.kursovaya.institut.models.ReportStatus).ON_INSPECTION}">
            <form method="post" >
                <input name="id" th:value="${report.id}" type="hidden">
                <textarea class="form-control" name="comment" placeholder="Замечания к отчету"></textarea><br>
                <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
                <button class="btn btn-success" type="submit">На доработку</button>
            </form>
            <form method="post">
                <input name="id" th:value="${report.id}" type="hidden">
                <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
                <button class="btn btn-success" type="submit">Принять отчет</button>
            </form>
        </div>
    </div>
</div>

<div th:insert="blocks/footer :: footer"></div>
</body>
</html>